specVersion: 1.3.0
schema:
  file: schema.graphql
indexerHints:
  prune: auto
dataSources:
  - kind: ethereum/contract
    name: ZoraFactory
    network: base
    source:
      address: "0x777777751622c0d3258f214F9DF38E35BF45baF3"
      abi: ZoraFactory
      startBlock: 1
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Post
        - User
        - CreatorCoin
        - ContentCoin
        - Mint
        - Transfer
        - Swap
        - Reward
        - PostMetrics
        - UserMetrics
      abis:
        - name: ZoraFactory
          file: ZoraFactory/ZoraFactory.json
        - name: ZORAToken
          file: ZoraFactory/ZORAToken.json
        - name: ContentCoin
          file: ZoraFactory/ContentCoin.json
        - name: CreatorCoin
          file: ZoraFactory/CreatorCoin.json
      eventHandlers:
        - event: CoinCreated(indexed address,indexed address,indexed
            address,address,string,string,string,address,address,string)
          handler: handleCoinCreated
      file: ZoraFactory/ZoraFactory.wasm
templates:
  - kind: ethereum/contract
    name: ContentCoinTemplate
    network: base
    source:
      abi: ContentCoin
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Post
        - User
        - ContentCoin
        - Mint
        - Transfer
        - PostMetrics
      abis:
        - name: ContentCoin
          file: ContentCoinTemplate/ContentCoin.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleContentCoinTransfer
        - event: Mint(indexed address,uint256)
          handler: handleContentCoinMint
      file: ZoraFactory/ZoraFactory.wasm
  - kind: ethereum/contract
    name: CreatorCoinTemplate
    network: base
    source:
      abi: CreatorCoin
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - User
        - CreatorCoin
        - Transfer
        - Swap
        - Reward
        - UserMetrics
      abis:
        - name: CreatorCoin
          file: CreatorCoinTemplate/CreatorCoin.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleCreatorCoinTransfer
      file: ZoraFactory/ZoraFactory.wasm
